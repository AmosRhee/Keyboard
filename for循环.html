<!DOCTYPE html>
<html lang="ch-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyboard</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <main id="main">
        <kbd></kbd>
    </main>
    <footer></footer>
    <script>
        var keys = {
            '0':{0:'q', 1:'w', 2:'e', 3:'r', 4:'t', 5:'y', 6:'u', 7:'i', 8:'o', 9:'p', length:10},
            '1':{0:'a', 1:'s', 2:'d', 3:'f', 4:'g', 5:'h', 6:'j', 7:'k', 8:'l', length:9},
            '2':{0:'z', 1:'x', 2:'c', 3:'v', 4:'b', 5:'n', 6:'m', length:7 },
            'length' : 3
        }
        var hash = {'q':'qq.com'}
        hashInLocalStorage = JSON.parse(localStorage.getItem('zzz') || 'null')
        if(hashInLocalStorage){
            hash = hashInLocalStorage
        }
        for(var i = 0; i < 3; i++){
            div = document.createElement('div')
            main.appendChild(div)

            row = keys[i]
            for(var j = 0; j<row['length'] ; j++){
                kbd = document.createElement('kbd')
                kbd.textContent = row[j]
                div.appendChild(kbd)
                button = document.createElement('button')
                button.textContent = 'Edit'
                kbd.appendChild(button)
                button.id = row[j]
                button.onclick = function(xxxx){
                    key = xxxx.target.id
                    x = prompt('添加网址')
                    hash[key] = x
                    localStorage.setItem('zzz', JSON.stringify(hash))
                    console.log(hash)
                }
            }
        }
        document.onkeypress = function(xxxx){
            key = xxxx['key']
            website = hash[key]
            window.open('http://' + website, '_blank')
        }
    </script>
</body>
</html>