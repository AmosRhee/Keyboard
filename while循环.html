<!DOCTYPE html>
<html lang="ch-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header></header>
    <main>
        <div class="wrapper" id="main">

        </div>
    </main>
    <footer></footer>
    
    <script>
        var keys = {
            0 : {0:'q', 1:'w', 2:'e', 3:'r', 4:'t', 5:'y', 6:'u', 7:'i', 8:'o', 9:'p', length:10},
            1 : {0:'a', 1:'s', 2:'d', 3:'f', 4:'g', 5:'h', 6:'j', 7:'k', 8:'l', length:9},
            2 : {0:'z', 1:'x', 2:'c', 3:'v', 4:'b', 5:'n', 6:'m', length:7 },
            'length' : 3
        }
        var hash = {q:'qq.com', w: 'weibo.com', e:'ele.com', r:'renren.com', b:'baidu.com', g:'google.com' }
        hashInLocalStorage = JSON.parse(localStorage.getItem('zzz') || 'null')
        if(hashInLocalStorage){
            hash = hashInLocalStorage
        }
        index = 0
        while(index < keys['length']){
            div = document.createElement('div')
            div.className = 'row'
            main.appendChild(div)
            index2 = 0
            row = keys[index] //第一个数组， 第二个数组， 第三个数组
            while(index2 < row['length']){
                kbd = document.createElement('kbd')
                span = document.createElement('span')
                span.textContent = row[index2]
                span.className = 'text'
                kbd.appendChild(span)
                kbd.className = 'key'
                div.appendChild(kbd)
                button = document.createElement('button')
                button.textContent = 'E'
                kbd.appendChild(button)
                button.id = row[index2]
               
                img =document.createElement('img')
                if(hash[row[index2]]){
                    img.src ='https://www.' + hash[row[index2]] + '/favicon.ico'
                }else{
                    img.src ='https://i.loli.net/2020/07/04/eqPO6bc9KXGxRtz.png'
                }
                img.onerror = function(xxxx){
                    xxxx.target.src = 'https://i.loli.net/2020/07/04/eqPO6bc9KXGxRtz.png'
                }
                
                kbd.appendChild(img)
                button.onclick = function(xxxx){
                    key = xxxx.target.id
                    x = prompt('给我一个网址')
                    hash[key] = x
                    localStorage.setItem('zzz', JSON.stringify(hash))
                    console.log(hash)
                }
                index2 = index2 + 1
            }
        index = index + 1
        }
        document.onkeypress = function(xxxx){ //////使用这个语句将得到一个数组xxxx
            key = xxxx['key']
            website = hash[key]
            // location.href ='http://' + website  在当前页面打开
            window.open('http://' + website, '_blank')  //   在新窗口打开

            
            
        }
    </script>
</body>
</html>